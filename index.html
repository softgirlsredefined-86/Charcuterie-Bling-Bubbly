<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Charcuterie, Bling & Bubbly ‚Äî RSVP</title>
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3E%E2%9C%A8%3C/text%3E%3C/svg%3E">
<style>
  /* ---------- Base & background ---------- */
  :root{
    --blush:#F9E4E8;
    --beige:#F4E1C1;
    --gold:#D4AF37;
    --accent:#B0E0E6;
    --charcoal:#3E3E3E;
    --card-bg: rgba(255,255,255,0.92);
  }
  html,body{height:100%;margin:0;font-family: 'Poppins', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
  body{
    background: linear-gradient(180deg,var(--blush), #F6F8FB 60%);
    color:var(--charcoal);
    -webkit-font-smoothing:antialiased;
    overflow-x:hidden;
  }

  /* subtle sparkle texture overlay (soft background pattern) */
  body::before{
    content:"";
    position:fixed;inset:0;z-index:0;
    background-image: radial-gradient(rgba(212,175,55,0.06) 1px, transparent 1px);
    background-size: 24px 24px;
    pointer-events:none;
    opacity:0.9;
    mix-blend-mode: overlay;
    filter: blur(0.6px);
  }

  /* shimmer animated overlay */
  .shimmer {
    position:fixed; inset:0; z-index:0; pointer-events:none;
    background: linear-gradient(120deg, rgba(255,255,255,0.00) 0%, rgba(255,255,255,0.06) 50%, rgba(255,255,255,0.00) 100%);
    transform: translateX(-100%);
    animation: shimmer 6s linear infinite;
    mix-blend-mode: soft-light;
  }
  @keyframes shimmer { to { transform: translateX(100%); } }

  /* ---------- Loader ---------- */
  #loader {
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
    background: linear-gradient(180deg, rgba(249,228,232,0.95), rgba(240,248,255,0.95));
    z-index:9999;font-size:1.2rem;color:var(--charcoal);
    transition: opacity 0.6s ease, visibility 0.6s ease;
  }

  /* ---------- Header ---------- */
  header{position:relative;z-index:2;text-align:center;padding:36px 16px 6px 16px;opacity:0;animation:fadeIn 1s ease forwards 0.8s;}
  header img{width:170px;border-radius:16px;box-shadow:0 8px 30px rgba(183,110,121,0.12);display:block;margin:0 auto;}
  h1{font-family: "Playfair Display", serif;color:#b76e79;margin:14px 0 4px;font-size:2.1rem;}
  h2{margin:0;font-weight:400;color:#6aa6c2;font-size:1.05rem;}
  .tagline{margin-top:8px;font-size:0.95rem;color:#666;}

  /* ---------- Main container ---------- */
  .wrap{position:relative;z-index:2;max-width:820px;margin:26px auto;padding:22px;}
  .card{
    background: var(--card-bg);
    border-radius:18px;padding:28px;
    box-shadow: 0 8px 30px rgba(40,30,40,0.06);
    transform: translateY(18px); opacity:0; animation:slideUp 0.9s ease forwards 1s;
  }
  @keyframes fadeIn { from{opacity:0} to{opacity:1} }
  @keyframes slideUp { from{transform:translateY(18px);opacity:0} to{transform:translateY(0);opacity:1} }

  /* ---------- Event details ---------- */
  .meta{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:center;margin-bottom:14px;}
  .meta div{background:rgba(255,255,255,0.6);padding:8px 12px;border-radius:10px;font-weight:600;color:#444;border:1px solid rgba(0,0,0,0.03);}

  /* ---------- Form styles ---------- */
  form{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-top:8px;}
  label{font-size:0.9rem;font-weight:700;color:#444;margin-bottom:6px;display:block;}
  input, textarea, select{
    width:100%;padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,0.08);font-size:0.95rem;
    background:linear-gradient(180deg, #fff, #fff);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
  }
  textarea{min-height:90px;grid-column:1/3;resize:vertical;}
  .full{grid-column:1/3;}

  .actions{display:flex;gap:12px;align-items:center;margin-top:8px;grid-column:1/3;flex-wrap:wrap;}
  .btn{
    display:inline-flex;align-items:center;gap:10px;border:none;padding:12px 18px;border-radius:26px;
    cursor:pointer;color:#fff;font-weight:700;font-size:1rem;background:linear-gradient(90deg,#ffb6c1,#b0e0e6);
    box-shadow: 0 8px 30px rgba(176,224,230,0.15);transition:transform .25s ease, box-shadow .25s ease;
  }
  .btn:hover{transform:translateY(-3px);box-shadow:0 14px 35px rgba(212,175,55,0.12);}
  .btn.ghost{background:transparent;color:var(--charcoal);border:1px solid rgba(0,0,0,0.06);box-shadow:none;}

  .pay-now{background:linear-gradient(90deg,#b0e0e6,#f4b1c7);}

  .note{font-size:0.88rem;color:#666;margin-top:6px;}

  /* ---------- Thank you ---------- */
  #thankyou{display:none;padding:18px;border-radius:12px;background:linear-gradient(90deg, rgba(240,248,255,0.9), rgba(249,228,232,0.9));text-align:center;font-weight:700;color:#b76e79;margin-top:14px;}

  /* ---------- Share bar (floating) ---------- */
  .share-floating{
    position:fixed;left:18px;bottom:20px;background:linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.9));
    padding:8px;border-radius:12px;box-shadow:0 8px 25px rgba(0,0,0,0.08);display:flex;gap:10px;align-items:center;z-index:999;
    transform: translateY(10px); opacity:0; animation:fadeIn 0.8s ease forwards 1.6s;
  }
  .share-floating button{background:transparent;border:none;font-size:1.1rem;padding:6px 8px;border-radius:8px;cursor:pointer;color:#b76e79;}
  .share-floating button:hover{background:rgba(183,110,121,0.06);color:#6aa6c2;}

  /* ---------- Back to top ---------- */
  #backTop{position:fixed;right:18px;bottom:20px;width:46px;height:46px;border-radius:50%;border:none;background:linear-gradient(90deg,#f4b1c7,#b0e0e6);color:#fff;font-size:20px;cursor:pointer;box-shadow:0 10px 30px rgba(0,0,0,0.12);display:none;z-index:999;}
  #backTop:hover{transform:scale(1.06);}

  /* responsive */
  @media (max-width:720px){
    form{grid-template-columns:1fr;gap:12px;}
    header img{width:140px;}
    .wrap{padding:12px;}
  }
</style>
</head>
<body>
  <div id="loader">‚ú® Sip. Sparkle. Savor. ‚ú®</div>
  <div class="shimmer" aria-hidden="true"></div>

  <header>
    <img src="Untitled design.png" alt="Bling & Mingle Logo">
    <h1>Charcuterie, Bling & Bubbly</h1>
    <h2>Sip. Sparkle. Savor.</h2>
    <div class="tagline">Because every bottle ‚Äî and board ‚Äî deserves a little bling.</div>
  </header>

  <main class="wrap">
    <section class="card" role="region" aria-labelledby="eventTitle">
      <div id="eventTitle" style="display:none">Event Details</div>

      <div class="meta" aria-hidden="true">
        <div>üìÖ December 6, 2025</div>
        <div>‚è∞ 4:00 PM ‚Äì 7:00 PM</div>
        <div>üìç Downtown Jacksonville</div>
        <div>üíµ $25 | 18+</div>
      </div>

      <p style="text-align:center;margin-top:6px;color:#555">
        Join us for an elegant, creative evening ‚Äî bedazzle a mini wine bottle, craft a mini charcuterie board, sip bubbly, and mingle. Exact address is shared after RSVP.
      </p>

      <!-- Add to Calendar -->
      <div style="display:flex;justify-content:center;margin-top:14px;">
        <div style="display:flex;gap:10px;flex-wrap:wrap;justify-content:center;">
          <button class="btn" id="addCalendarBtn" title="Add to calendar">
            üìÖ Add to Calendar
          </button>

          <a href="https://softgirlsredefined.ticketspice.com/charcuterie-bling-bubbly" target="_blank" rel="noopener">
            <button class="btn pay-now">üí≥ Pay Now (TicketSpice)</button>
          </a>
        </div>
      </div>

      <!-- RSVP form -->
      <div class="form-section" style="margin-top:20px;">
        <h3 style="text-align:center;margin:0 0 8px 0;color:#6a6a6a">Reserve Your Spot</h3>
        <form id="rsvp" action="https://formspree.io/f/xanpkjoy" method="POST" autocomplete="on" novalidate>
          <label for="fullname">Full Name</label>
          <input id="fullname" name="Full Name" type="text" required>

          <label for="email">Email</label>
          <input id="email" name="_replyto" type="email" required>

          <label for="phone">Phone</label>
          <input id="phone" name="Phone" type="tel" placeholder="Optional">

          <label for="age">Are you 18 or older?</label>
          <select id="age" name="Age Confirmation" required>
            <option value="">Select one</option>
            <option value="Yes">Yes</option>
          </select>

          <label for="bringing">Will you be bringing a guest?</label>
          <select id="bringing" name="Bringing Guest" required>
            <option value="">Select one</option>
            <option value="No">No</option>
            <option value="Yes">Yes</option>
          </select>

          <label for="guestname" class="full">Guest's Name (if bringing)</label>
          <input id="guestname" name="Guest Name" class="full" type="text" placeholder="Optional">

          <label for="allergies" class="full">Food allergies or dietary preferences</label>
          <textarea id="allergies" name="Allergies / Preferences" class="full" placeholder="Let us know if you have any dietary needs"></textarea>

          <label for="paymentOpt">Payment Confirmation</label>
          <select id="paymentOpt" name="Payment Option" required>
            <option value="">Select one</option>
            <option value="RSVP Now, Pay Later">RSVP Now, Pay Later (2 weeks to pay)</option>
            <option value="Pay Now via TicketSpice">Pay Now via TicketSpice</option>
          </select>

          <label for="notes" class="full">Additional Notes or Requests</label>
          <textarea id="notes" name="Notes" class="full" placeholder="Optional"></textarea>

          <!-- Hidden field to help Formspree forwards -->
          <input type="hidden" name="event" value="Charcuterie, Bling & Bubbly - Dec 6 2025">

          <div class="actions">
            <button type="submit" class="btn">Submit RSVP</button>
            <button type="button" class="btn ghost" id="saveCopyBtn">Save a Copy</button>
            <div class="note">You may choose "RSVP Now, Pay Later" (2 weeks to pay) or click Pay Now to complete payment immediately.</div>
          </div>

          <div id="thankyou" aria-live="polite">üíñ Thank you for RSVPing! We can‚Äôt wait to see you sparkle on December 6th! üíñ</div>
        </form>
      </div>
    </section>
  </main>

  <!-- Floating share bar -->
  <div class="share-floating" role="navigation" aria-label="Share this event">
    <button id="shareFB" title="Share on Facebook">üìò</button>
    <button id="shareX" title="Share on X">üïäÔ∏è</button>
    <button id="copyLink" title="Copy link">üîó</button>
    <button id="emailInvite" title="Send email invite">‚úâÔ∏è</button>
  </div>

  <!-- Back to top -->
  <button id="backTop" aria-label="Back to top">‚Üë</button>

  <footer style="text-align:center;padding:28px 12px;color:#6a6a6a;">
    Designed by Bling & Mingle Entertainment ‚ú® ‚Äî Contact: Softgirlsredefined@gmail.com
  </footer>

<script>
/* ---------- Loader hide ---------- */
window.addEventListener('load', ()=> {
  const loader = document.getElementById('loader');
  setTimeout(()=> {
    loader.style.opacity = '0';
    loader.style.visibility = 'hidden';
  }, 700);
});

/* ---------- Form submit (Formspree) ---------- */
const form = document.getElementById('rsvp');
form.addEventListener('submit', async (e)=>{
  e.preventDefault();
  const data = new FormData(form);
  // include full link for reference
  data.append('Page URL', window.location.href);
  try {
    const res = await fetch(form.action, {
      method: 'POST',
      body: data,
      headers: {'Accept':'application/json'}
    });
    if (res.ok) {
      form.reset();
      form.style.display = 'none';
      document.getElementById('thankyou').style.display = 'block';
      // optional: open Ticketspice if selected
    } else {
      alert('Submission error ‚Äî please try again or email Softgirlsredefined@gmail.com');
    }
  } catch (err) {
    alert('Network error ‚Äî please try again.');
  }
});

/* ---------- Save copy (download filled form as txt) ---------- */
document.getElementById('saveCopyBtn').addEventListener('click', ()=>{
  const fields = {
    "Full Name": document.getElementById('fullname').value || '',
    "Email": document.getElementById('email').value || '',
    "Phone": document.getElementById('phone').value || '',
    "Age": document.getElementById('age').value || '',
    "Bringing Guest": document.getElementById('bringing').value || '',
    "Guest Name": document.getElementById('guestname').value || '',
    "Allergies": document.getElementById('allergies').value || '',
    "Payment Option": document.getElementById('paymentOpt').value || '',
    "Notes": document.getElementById('notes').value || ''
  };
  let content = 'Charcuterie, Bling & Bubbly ‚Äî RSVP Copy\n\n';
  for (const k in fields) content += `${k}: ${fields[k]}\n`;
  const blob = new Blob([content],{type:'text/plain'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = 'RSVP_Charcuterie_Bling_Bubbly.txt';
  document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
});

/* ---------- Copy link & share ---------- */
const pageUrl = window.location.href;
document.getElementById('copyLink').addEventListener('click', async ()=> {
  try {
    await navigator.clipboard.writeText(pageUrl);
    alert('Link copied to clipboard!');
  } catch { prompt('Copy this link:', pageUrl); }
});
document.getElementById('shareFB').addEventListener('click', ()=> {
  window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(pageUrl)}`, '_blank');
});
document.getElementById('shareX').addEventListener('click', ()=> {
  window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(pageUrl)}&text=${encodeURIComponent('Join me for Charcuterie, Bling & Bubbly!')}`, '_blank');
});
document.getElementById('emailInvite').addEventListener('click', ()=> {
  const subject = encodeURIComponent('Join me: Charcuterie, Bling & Bubbly');
  const body = encodeURIComponent(`I'd love for you to join me at Charcuterie, Bling & Bubbly! RSVP here: ${pageUrl}`);
  window.location.href = `mailto:?subject=${subject}&body=${body}`;
});

/* ---------- Back to top behavior ---------- */
const backTop = document.getElementById('backTop');
window.addEventListener('scroll', ()=> {
  if (window.scrollY > 200) backTop.style.display = 'block';
  else backTop.style.display = 'none';
});
backTop.addEventListener('click', ()=> window.scrollTo({top:0,behavior:'smooth'}) );

/* ---------- Add to Calendar (Google + ICS download for Apple/Outlook) ---------- */
const addBtn = document.getElementById('addCalendarBtn');
addBtn.addEventListener('click', ()=>{
  // popup with options
  const popup = document.createElement('div');
  popup.style.position='fixed';popup.style.left='50%';popup.style.top='50%';
  popup.style.transform='translate(-50%,-50%)';popup.style.zIndex='9999';
  popup.style.background='white';popup.style.padding='16px';popup.style.borderRadius='12px';
  popup.style.boxShadow='0 12px 40px rgba(0,0,0,0.12)'; popup.innerHTML = `
    <div style="text-align:center;font-weight:700;margin-bottom:8px">Add to Calendar</div>
    <div style="display:flex;gap:8px;justify-content:center;flex-wrap:wrap">
      <a id="googleAdd" style="text-decoration:none"><button class="btn">Google</button></a>
      <button class="btn" id="downloadICS">Apple / Outlook</button>
      <button class="btn ghost" id="closeCal">Close</button>
    </div>
  `;
  document.body.appendChild(popup);

  // Google link
  const gLink = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent('Charcuterie, Bling & Bubbly')}&dates=${encodeURIComponent('20251206T160000')}/${encodeURIComponent('20251206T190000')}&details=${encodeURIComponent("Sip, sparkle, and savor your evening as you bedazzle your mini wine bottles and craft your own charcuterie board!")}&location=${encodeURIComponent('Downtown Jacksonville ‚Äì Address shared upon RSVP')}`;
  document.getElementById('googleAdd').href = gLink; document.getElementById('googleAdd').target='_blank';

  // ICS creation
  document.getElementById('downloadICS').addEventListener('click', ()=>{
    const icsLines = [
      'BEGIN:VCALENDAR',
      'VERSION:2.0',
      'PRODID:-//Bling & Mingle//Charcuterie Bling Bubbly//EN',
      'CALSCALE:GREGORIAN',
      'BEGIN:VEVENT',
      `DTSTART:20251206T160000`,
      `DTEND:20251206T190000`,
      `SUMMARY:Charcuterie, Bling & Bubbly`,
      `DESCRIPTION:Sip, sparkle, and savor your evening as you bedazzle your mini wine bottles and craft your own charcuterie board!`,
      `LOCATION:Downtown Jacksonville - Address shared upon RSVP`,
      'END:VEVENT',
      'END:VCALENDAR'
    ];
    const blob = new Blob([icsLines.join('\r\n')], {type: 'text/calendar'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a'); a.href = url; a.download = 'Charcuterie_Bling_Bubbly.ics'; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
  });

  document.getElementById('closeCal').addEventListener('click', ()=> popup.remove());
});

/* ---------- small accessibility: focus trap removal if needed ---------- */
document.addEventListener('keydown', (e)=>{ if (e.key === 'Escape') {
  const pop = document.querySelector('div[role="dialog"]'); if (pop) pop.remove();
}});

</script>
</body>
</html>
